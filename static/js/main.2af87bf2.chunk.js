(this["webpackJsonpsydney-advertising-map"]=this["webpackJsonpsydney-advertising-map"]||[]).push([[0],{13:function(e,t,r){},14:function(e,t,r){},17:function(e,t,r){"use strict";r.r(t);var o=r(5),l=r(0),a=r.n(l),n=(r(13),r(3)),i=r(1),s=r.n(i),c=(r(14),r(6));function p(e,t,r){e.addLayer({id:t,type:"fill",source:"osm2streets-vector-tileserver","source-layer":"lanePolygons",paint:r,filter:["==","type",t]},void 0)}var y="white",f="#666666",u="grey",m="#CCCCCC",d="#CCCCCC",g="#0F7D4B",v="#BE4A4C",b="#FF6D00",h="#DDDDE8",k=r(7),C=r.n(k);r(16);function j(){var e=a.a.useRef(null),t=a.a.useRef(null),r=Object(l.useState)(151.2160755932166),o=Object(n.a)(r,2),i=o[0],k=o[1],j=Object(l.useState)(-33.88056647217827),w=Object(n.a)(j,2),E=w[0],O=w[1],S=Object(l.useState)(17.504322191852786),M=Object(n.a)(S,2),D=M[0],z=M[1];return Object(l.useEffect)((function(){if(null!==e.current&&null===t.current){t.current=new s.a.Map({container:e.current,center:[i,E],zoom:D,hash:!0,style:{version:8,sources:{"raster-tiles":{type:"raster",tiles:["https://a.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png"],tileSize:256,attribution:'\xa9 <a target="_blank" href="https://www.cyclosm.org">CyclOSM</a>, <a target="_blank" href="https://github.com/a-b-street/osm2streets">osm2streets</a>, <a target="_blank" href="https://openstreetmap.org/">OpenStreetMap contributors</a>'}},layers:[{id:"simple-tiles",type:"raster",source:"raster-tiles",minzoom:0,maxzoom:22}]}});var r=t.current;r.on("load",function(e){return function(){var t,r,o=e.getStyle().layers,l=Object(c.a)(o);try{for(l.s();!(r=l.n()).done;){var a=r.value;if("symbol"===a.type){t=a.id;break}}}catch(n){l.e(n)}finally{l.f()}console.log({firstSymbolId:t}),console.log("Adding sources. If you don't seen anything check vector server logs."),e.addSource("osm2streets-vector-tileserver",{type:"vector",tiles:["https://api.safecyclingmap.com/tile/{z}/{x}/{y}"],minzoom:16,maxzoom:19}),p(e,"SharedUse",{"fill-color":"blue","fill-opacity":.3}),p(e,"Shoulder",{"fill-color":d,"fill-opacity":.5}),p(e,"Sidewalk",{"fill-color":m,"fill-opacity":.9}),p(e,"Footway",{"fill-color":h,"fill-opacity":.9}),p(e,"Driving",{"fill-color":u,"fill-opacity":.9}),p(e,"Bus",{"fill-color":v,"fill-opacity":.9}),p(e,"Construction",{"fill-color":b,"fill-opacity":.5}),e.addLayer({id:"intersection",type:"fill",source:"osm2streets-vector-tileserver","source-layer":"geometry",paint:{"fill-color":f,"fill-opacity":1},filter:["==","type","intersection"]},void 0),e.addLayer({id:"Biking",type:"fill",source:"osm2streets-vector-tileserver","source-layer":"lanePolygons",paint:{"fill-color":g,"fill-opacity":1},filter:["==","type","Biking"]},void 0),e.addLayer({id:"intersectionMarkings",type:"fill",source:"osm2streets-vector-tileserver","source-layer":"intersectionMarkings",paint:{"fill-color":u,"fill-opacity":.8},filter:["==","$type","Polygon"]},void 0),e.addLayer({id:"laneMarkings",type:"fill",source:"osm2streets-vector-tileserver","source-layer":"laneMarkings",paint:{"fill-color":y,"fill-opacity":1},filter:["==","$type","Polygon"]},void 0)}}(r)),r.addControl(new s.a.NavigationControl),r.addControl(new s.a.FullscreenControl),r.addControl(new C.a({accessToken:s.a.accessToken}),"top-left"),r.addControl(new s.a.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0})),r.on("move",(function(){if(r){var e=r.getCenter(),t=e.lng,o=e.lat,l=r.getZoom();console.log(t,o,l),k(r.getCenter().lng),O(r.getCenter().lat),z(r.getZoom())}}))}})),a.a.createElement("div",null,a.a.createElement("div",{className:"sidebar"},a.a.createElement("label",null,"A work in progress side project by"," ",a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://jakecoppinger.com/"},"Jake Coppinger")," ","| Open source on"," ",a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/jakecoppinger/safe-cycling-map"},"Github"))),a.a.createElement("div",{ref:e,className:"map-container"}))}s.a.accessToken="pk.eyJ1IjoiamFrZWMiLCJhIjoiY2tkaHplNGhjMDAyMDJybW4ybmRqbTBmMyJ9.AR_fnEuka8-cFb4Snp3upw";var w=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(j,null))};Object(o.render)(a.a.createElement(w,null),document.getElementById("root"))},8:function(e,t,r){e.exports=r(17)}},[[8,1,2]]]);
//# sourceMappingURL=main.2af87bf2.chunk.js.map