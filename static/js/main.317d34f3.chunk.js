(this["webpackJsonpsydney-advertising-map"]=this["webpackJsonpsydney-advertising-map"]||[]).push([[0],{12:function(e,t,r){},13:function(e,t,r){},14:function(e,t,r){"use strict";r.r(t);var o=r(5),l=r(0),a=r.n(l),i=(r(12),r(2)),n=r(3),s=r.n(n),c=(r(13),r(6));function p(e,t,r){e.addLayer({id:t,type:"fill",source:"osm2streets-vector-tileserver","source-layer":"lanePolygons",paint:r,filter:["==","type",t]},void 0)}var y="white",f="#666666",u="grey",m="#CCCCCC",g="#CCCCCC",d="#0F7D4B",v="#BE4A4C",b="#FF6D00",h="#DDDDE8";function k(){var e=a.a.useRef(null),t=a.a.useRef(null),r=Object(l.useState)(151.2160755932166),o=Object(i.a)(r,2),n=o[0],k=o[1],C=Object(l.useState)(-33.88056647217827),E=Object(i.a)(C,2),O=E[0],j=E[1],S=Object(l.useState)(17.504322191852786),w=Object(i.a)(S,2),z=w[0],D=w[1];return Object(l.useEffect)((function(){if(null!==e.current&&null===t.current){t.current=new s.a.Map({container:e.current,center:[n,O],zoom:z,style:{version:8,sources:{"raster-tiles":{type:"raster",tiles:["https://a.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png"],tileSize:256,attribution:'\xa9 <a target="_blank" href="https://www.cyclosm.org">CyclOSM</a>, <a target="_blank" href="https://github.com/a-b-street/osm2streets">osm2streets</a>, <a target="_blank" href="https://openstreetmap.org/">OpenStreetMap contributors</a>'}},layers:[{id:"simple-tiles",type:"raster",source:"raster-tiles",minzoom:0,maxzoom:22}]}});var r=t.current;r.on("load",function(e){return function(){var t,r,o=e.getStyle().layers,l=Object(c.a)(o);try{for(l.s();!(r=l.n()).done;){var a=r.value;if("symbol"===a.type){t=a.id;break}}}catch(i){l.e(i)}finally{l.f()}console.log({firstSymbolId:t}),console.log("Adding sources. If you don't seen anything check vector server logs."),e.addSource("osm2streets-vector-tileserver",{type:"vector",tiles:["https://api.safecyclingmap.com/tile/{z}/{x}/{y}"],minzoom:16,maxzoom:19}),p(e,"SharedUse",{"fill-color":"blue","fill-opacity":.3}),p(e,"Shoulder",{"fill-color":g,"fill-opacity":.5}),p(e,"Sidewalk",{"fill-color":m,"fill-opacity":.9}),p(e,"Footway",{"fill-color":h,"fill-opacity":.9}),p(e,"Driving",{"fill-color":u,"fill-opacity":.9}),p(e,"Bus",{"fill-color":v,"fill-opacity":.9}),p(e,"Construction",{"fill-color":b,"fill-opacity":.5}),e.addLayer({id:"intersection",type:"fill",source:"osm2streets-vector-tileserver","source-layer":"geometry",paint:{"fill-color":f,"fill-opacity":1},filter:["==","type","intersection"]},void 0),e.addLayer({id:"Biking",type:"fill",source:"osm2streets-vector-tileserver","source-layer":"lanePolygons",paint:{"fill-color":d,"fill-opacity":1},filter:["==","type","Biking"]},void 0),e.addLayer({id:"intersectionMarkings",type:"fill",source:"osm2streets-vector-tileserver","source-layer":"intersectionMarkings",paint:{"fill-color":u,"fill-opacity":.8},filter:["==","$type","Polygon"]},void 0),e.addLayer({id:"laneMarkings",type:"fill",source:"osm2streets-vector-tileserver","source-layer":"laneMarkings",paint:{"fill-color":y,"fill-opacity":1},filter:["==","$type","Polygon"]},void 0)}}(r)),r.addControl(new s.a.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0})),r.on("move",(function(){if(r){var e=r.getCenter(),t=e.lng,o=e.lat,l=r.getZoom();console.log(t,o,l),k(r.getCenter().lng),j(r.getCenter().lat),D(r.getZoom())}}))}})),a.a.createElement("div",null,a.a.createElement("div",{className:"sidebar"},a.a.createElement("label",null,"A work in progress side project by"," ",a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://jakecoppinger.com/"},"Jake Coppinger")," ","| Open source on"," ",a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/jakecoppinger/safe-cycling-map"},"Github"))),a.a.createElement("div",{ref:e,className:"map-container"}))}var C=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(k,null))};Object(o.render)(a.a.createElement(C,null),document.getElementById("root"))},7:function(e,t,r){e.exports=r(14)}},[[7,1,2]]]);
//# sourceMappingURL=main.317d34f3.chunk.js.map